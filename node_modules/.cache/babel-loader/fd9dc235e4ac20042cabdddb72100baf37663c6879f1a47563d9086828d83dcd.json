{"ast":null,"code":"const GITHUB_TOKEN_KEY = \"x-github-token\";\nconst storage = chrome.storage.sync || chrome.storage.local;\nchrome.extension.onMessage.addListener(function (request, sender, sendResponse) {\n  var senderTab = sender.tab;\n  if (senderTab != null) {\n    //var senderWindowId = sender.tab.windowId;\n  }\n  if (request.msg[0] == \"openStriffTab\") {\n    chrome.windows.create({\n      url: \"popup.html\",\n      type: \"popup\"\n    });\n  } else if (request.msg[0] == \"setToken\") {\n    setGithubToken(request.msg[1]);\n    sendResponse(true);\n  } else if (request.msg[0] == \"getToken\") {\n    storage.get(GITHUB_TOKEN_KEY, function (data) {\n      var githubToken = data[GITHUB_TOKEN_KEY];\n      sendResponse(githubToken);\n    });\n  }\n  return true;\n});\nfunction setGithubToken(value) {\n  const obj = {};\n  obj[GITHUB_TOKEN_KEY] = value;\n  storage.set(obj);\n}","map":{"version":3,"names":["GITHUB_TOKEN_KEY","storage","chrome","sync","local","extension","onMessage","addListener","request","sender","sendResponse","senderTab","tab","msg","windows","create","url","type","setGithubToken","get","data","githubToken","value","obj","set"],"sources":["/home/muntazir/git/hadii/striff-browser-extension/src/entry/background.js"],"sourcesContent":["\nconst GITHUB_TOKEN_KEY = \"x-github-token\";\nconst storage = chrome.storage.sync || chrome.storage.local;\n\nchrome.extension.onMessage.addListener(function (\n  request,\n  sender,\n  sendResponse\n) {\n  var senderTab = sender.tab\n  if (senderTab != null) {\n    //var senderWindowId = sender.tab.windowId;\n  }\n  if (request.msg[0] == \"openStriffTab\") {\n    chrome.windows.create({url: \"popup.html\", type: \"popup\"});\n  } else if (request.msg[0] == \"setToken\") {\n    setGithubToken(request.msg[1])\n    sendResponse(true);\n  } else if (request.msg[0] == \"getToken\") {\n    storage.get(GITHUB_TOKEN_KEY, function (data) {\n      var githubToken = data[GITHUB_TOKEN_KEY];\n      sendResponse(githubToken);\n    });\n  } \n  return true;\n});\n\nfunction setGithubToken(value) {\n  const obj = {};\n  obj[GITHUB_TOKEN_KEY] = value;\n  storage.set(obj)\n}\n\n"],"mappings":"AACA,MAAMA,gBAAgB,GAAG,gBAAgB;AACzC,MAAMC,OAAO,GAAGC,MAAM,CAACD,OAAO,CAACE,IAAI,IAAID,MAAM,CAACD,OAAO,CAACG,KAAK;AAE3DF,MAAM,CAACG,SAAS,CAACC,SAAS,CAACC,WAAW,CAAC,UACrCC,OAAO,EACPC,MAAM,EACNC,YAAY,EACZ;EACA,IAAIC,SAAS,GAAGF,MAAM,CAACG,GAAG;EAC1B,IAAID,SAAS,IAAI,IAAI,EAAE;IACrB;EAAA;EAEF,IAAIH,OAAO,CAACK,GAAG,CAAC,CAAC,CAAC,IAAI,eAAe,EAAE;IACrCX,MAAM,CAACY,OAAO,CAACC,MAAM,CAAC;MAACC,GAAG,EAAE,YAAY;MAAEC,IAAI,EAAE;IAAO,CAAC,CAAC;EAC3D,CAAC,MAAM,IAAIT,OAAO,CAACK,GAAG,CAAC,CAAC,CAAC,IAAI,UAAU,EAAE;IACvCK,cAAc,CAACV,OAAO,CAACK,GAAG,CAAC,CAAC,CAAC,CAAC;IAC9BH,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC,MAAM,IAAIF,OAAO,CAACK,GAAG,CAAC,CAAC,CAAC,IAAI,UAAU,EAAE;IACvCZ,OAAO,CAACkB,GAAG,CAACnB,gBAAgB,EAAE,UAAUoB,IAAI,EAAE;MAC5C,IAAIC,WAAW,GAAGD,IAAI,CAACpB,gBAAgB,CAAC;MACxCU,YAAY,CAACW,WAAW,CAAC;IAC3B,CAAC,CAAC;EACJ;EACA,OAAO,IAAI;AACb,CAAC,CAAC;AAEF,SAASH,cAAc,CAACI,KAAK,EAAE;EAC7B,MAAMC,GAAG,GAAG,CAAC,CAAC;EACdA,GAAG,CAACvB,gBAAgB,CAAC,GAAGsB,KAAK;EAC7BrB,OAAO,CAACuB,GAAG,CAACD,GAAG,CAAC;AAClB"},"metadata":{},"sourceType":"script","externalDependencies":[]}