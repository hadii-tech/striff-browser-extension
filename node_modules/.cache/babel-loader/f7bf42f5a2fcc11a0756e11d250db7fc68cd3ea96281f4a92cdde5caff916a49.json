{"ast":null,"code":"const checkForPullRequestPage = () => {\n  let repoURI = window.location.pathname.substring(1);\n  if (repoURI.match(/.*\\/pull\\/[0-9]*/) && window.location.href.includes(\"github.com\")) {\n    // Current page is GitHub Pull Request, retrieve important values\n    repoOwner = window.location.pathname.split(\"/\")[1];\n    repoName = window.location.pathname.split(\"/\")[2];\n    pullNo = window.location.pathname.split(\"/\")[4];\n    // Create striff button\n    var checkExist = setInterval(function () {\n      if (document.getElementsByClassName(\"tabnav-tabs\")) {\n        var striffTabNav = document.getElementById(\"striffTabNav\");\n        if (striffTabNav == null) {\n          var ghTabNavs = document.getElementsByClassName(\"tabnav-tabs\")[0];\n          var imageURL = chrome.runtime.getURL(\"icons/clarity-bot.svg\");\n          ghTabNavs.innerHTML += '<button type=\"submit\" class=\"btn btn-sm btn-with-count js-toggler-target\" aria-label=\"View striff diagrams for this pull request.\" title=\"View striff diagrams for this pull request.\" id=\"striff_btn\" style=\"margin-left: 15px;padding-left: 5px; min-width:110px; padding-right:15px; overflow: hidden; border-radius: 5px; margin-bottom: 10px; margin-top: 7px; background-color: #f3f3f3; float: right; margin-left: auto;\"> <div id=\"striff_btn_div\" style=\"margin-right: 5px; margin-left: 5px;\"><div id=\"striff_btn_icon_div\"><img style=\"float:left; display:block; margin-top: 2px;margin-bottom: -2px;margin-right: 5px;\" id=\"structure_diff_btn_img\" src=\"' + imageURL + '\"></div><span style=\"padding-right: 5px;\" id=\"striff_btn_text\">Striff Report</span></div></button>';\n        }\n        // create event listener for the structure-diff button\n        var striffBtn = document.getElementById(\"striff_btn\");\n        striffBtn.addEventListener(\"click\", function () {\n          showLoaderBtnIcon();\n          // start generating structure-diff...\n          fetchStriffMetadata(repoOwner, repoName, pullNo);\n        });\n        clearInterval(checkExist);\n      }\n    }, 500);\n  }\n};","map":{"version":3,"names":["checkForPullRequestPage","repoURI","window","location","pathname","substring","match","href","includes","repoOwner","split","repoName","pullNo","checkExist","setInterval","document","getElementsByClassName","striffTabNav","getElementById","ghTabNavs","imageURL","chrome","runtime","getURL","innerHTML","striffBtn","addEventListener","showLoaderBtnIcon","fetchStriffMetadata","clearInterval"],"sources":["/home/muntazir/git/hadii/striff-browser-extension/src/entry/pull-request.js"],"sourcesContent":["const checkForPullRequestPage = () => {\n    let repoURI = window.location.pathname.substring(1);\n    if (\n      repoURI.match(/.*\\/pull\\/[0-9]*/) &&\n      window.location.href.includes(\"github.com\")\n    ) {\n      // Current page is GitHub Pull Request, retrieve important values\n      repoOwner = window.location.pathname.split(\"/\")[1];\n      repoName = window.location.pathname.split(\"/\")[2];\n      pullNo = window.location.pathname.split(\"/\")[4];\n      // Create striff button\n      var checkExist = setInterval(function () {\n        if (document.getElementsByClassName(\"tabnav-tabs\")) {\n          var striffTabNav = document.getElementById(\"striffTabNav\");\n          if (striffTabNav == null) {\n            var ghTabNavs = document.getElementsByClassName(\"tabnav-tabs\")[0];\n            var imageURL = chrome.runtime.getURL(\"icons/clarity-bot.svg\");\n            ghTabNavs.innerHTML +=\n              '<button type=\"submit\" class=\"btn btn-sm btn-with-count js-toggler-target\" aria-label=\"View striff diagrams for this pull request.\" title=\"View striff diagrams for this pull request.\" id=\"striff_btn\" style=\"margin-left: 15px;padding-left: 5px; min-width:110px; padding-right:15px; overflow: hidden; border-radius: 5px; margin-bottom: 10px; margin-top: 7px; background-color: #f3f3f3; float: right; margin-left: auto;\"> <div id=\"striff_btn_div\" style=\"margin-right: 5px; margin-left: 5px;\"><div id=\"striff_btn_icon_div\"><img style=\"float:left; display:block; margin-top: 2px;margin-bottom: -2px;margin-right: 5px;\" id=\"structure_diff_btn_img\" src=\"' +\n              imageURL +\n              '\"></div><span style=\"padding-right: 5px;\" id=\"striff_btn_text\">Striff Report</span></div></button>';\n          }\n          // create event listener for the structure-diff button\n          var striffBtn = document.getElementById(\"striff_btn\");\n          striffBtn.addEventListener(\"click\", function () {\n            showLoaderBtnIcon();\n            // start generating structure-diff...\n            fetchStriffMetadata(repoOwner, repoName, pullNo);\n          });\n          clearInterval(checkExist)\n        }\n      }, 500);\n    }\n  };"],"mappings":"AAAA,MAAMA,uBAAuB,GAAG,MAAM;EAClC,IAAIC,OAAO,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,SAAS,CAAC,CAAC,CAAC;EACnD,IACEJ,OAAO,CAACK,KAAK,CAAC,kBAAkB,CAAC,IACjCJ,MAAM,CAACC,QAAQ,CAACI,IAAI,CAACC,QAAQ,CAAC,YAAY,CAAC,EAC3C;IACA;IACAC,SAAS,GAAGP,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAClDC,QAAQ,GAAGT,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACjDE,MAAM,GAAGV,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC/C;IACA,IAAIG,UAAU,GAAGC,WAAW,CAAC,YAAY;MACvC,IAAIC,QAAQ,CAACC,sBAAsB,CAAC,aAAa,CAAC,EAAE;QAClD,IAAIC,YAAY,GAAGF,QAAQ,CAACG,cAAc,CAAC,cAAc,CAAC;QAC1D,IAAID,YAAY,IAAI,IAAI,EAAE;UACxB,IAAIE,SAAS,GAAGJ,QAAQ,CAACC,sBAAsB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;UACjE,IAAII,QAAQ,GAAGC,MAAM,CAACC,OAAO,CAACC,MAAM,CAAC,uBAAuB,CAAC;UAC7DJ,SAAS,CAACK,SAAS,IACjB,woBAAwoB,GACxoBJ,QAAQ,GACR,oGAAoG;QACxG;QACA;QACA,IAAIK,SAAS,GAAGV,QAAQ,CAACG,cAAc,CAAC,YAAY,CAAC;QACrDO,SAAS,CAACC,gBAAgB,CAAC,OAAO,EAAE,YAAY;UAC9CC,iBAAiB,EAAE;UACnB;UACAC,mBAAmB,CAACnB,SAAS,EAAEE,QAAQ,EAAEC,MAAM,CAAC;QAClD,CAAC,CAAC;QACFiB,aAAa,CAAChB,UAAU,CAAC;MAC3B;IACF,CAAC,EAAE,GAAG,CAAC;EACT;AACF,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}